#!/usr/bin/env bash
# Configuración básica
setw -g mode-keys vi

set -g default-terminal "screen-256color"
if 'infocmp -x tmux-256color > /dev/null 2>&1' 'set -g default-terminal "tmux-256color"'

# Lista de plugins
set -g @plugin "olimorris/tmux-pomodoro-plus"
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'nedzib/tmux-ogmonk'
set -g @plugin 'b0o/tmux-autoreload'
set -g @plugin 'kristijanhusak/tmux-simple-git-status'

# Start windows and panes index at 1, not 0.
set -g base-index 1
setw -g pane-base-index 1

# Ensure window index numbers get reordered on delete.
set-option -g renumber-windows on

set -g mode-style "fg=#EBDBB2,bg=#1D2021"
setw -g mode-style "fg=black,bg=yellow"
set -g message-style "fg=#EBDBB2,bg=#1D2021"
set -g message-command-style "fg=#EBDBB2,bg=#1D2021"

# Configuración de bordes de paneles
set -g pane-border-style "fg=#2A363A"
set -g pane-active-border-style "fg=#7FA2AC"
set -g pane-border-format "#{?pane_active,#[fg=#3c3836 bg=#7FA2AC] #{pane_index}|#{pane_current_command} #[fg=#7FA2AC bg=default] , #{pane_index}|#{pane_current_command} }"
set -g pane-border-status top

# Configuración de la barra de estado
set -g status "on"
set -g status-justify "left"
set -g status-style "fg=#EBDBB2,bg=#1D2021"

# Longitud de los segmentos izquierdo y derecho de la barra de estado
set -g status-left-length "100"
set -g status-right-length "100"
set -g status-left-style NONE
set -g status-right-style NONE

# Configuración del texto izquierdo y derecho de la barra de estado
set -g status-left "#[fg=#1D2021,bg=#B16286,bold] #S #[fg=#B16286,bg=#1D2021,nobold,nounderscore,noitalics]"
set -g status-right "#[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]#[fg=#EBDBB2,bg=#1D2021] #{prefix_highlight} #[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]#[fg=#EBDBB2,bg=#1D2021] #{pomodoro_status} #[fg=#B16286,bg=#1D2021,nobold,nounderscore,noitalics]#[fg=#EBDBB2,bg=#B16286,bold] #{simple_git_status}"

# Configuración de las pestañas de ventanas
setw -g window-status-activity-style "underscore,fg=#665C54,bg=#1D2021"
setw -g window-status-separator ""
setw -g window-status-style "NONE,fg=#665C54,bg=#1D2021"

setw -g window-status-format "#[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]#[default] #I  #W #F #[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]"
setw -g window-status-current-format "#[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]#[fg=#EBDBB2,bg=#1D2021,bold] #I  #W #F #[fg=#1D2021,bg=#1D2021,nobold,nounderscore,noitalics]"

# Soporte para tmux-plugins/tmux-prefix-highlight
set -g @prefix_highlight_output_prefix "#[fg=#CC241D]#[bg=#1D2021]#[fg=#1D2021]#[bg=#CC241D]"
set -g @prefix_highlight_output_suffix ""

# Configuración de Pomodoro
set -g @pomodoro_on " "
set -g @pomodoro_complete "✔︎ "
set -g @pomodoro_pause "⏸︎ "
set -g @pomodoro_prompt_break " ⏲︎  break? "
set -g @pomodoro_prompt_pomodoro " ⏱︎  start? "
set -g @pomodoro_interval_display " [%s/%s]"

set -g @pomodoro_sound 'on'
set -g @pomodoro_granularity 'on'
set -g status-interval 1

set-option -g status-position top

run '~/.tmux/plugins/tpm/tpm'

